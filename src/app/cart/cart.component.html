@if (productsInCart.length > 0) {
  <section id="cart">
    <div class="title">
        <span>Carrinho de Compras</span>
    </div>

    <div class="cart-content">
      <div class="products">
        @for (product of productsInCart; track product._id) {
          <div class="product">
            <div class="product-image">
              <img src="{{ product?.file?.url }}" alt="{{ product?.file?.name }}">
            </div>

            <div class="product-info">
              <p>{{ product.name }}</p>
              <p>{{ product.description }}</p>
              <span>{{ product.valor }}</span>
            </div>

            <div class="button-remove-from-cart" (click)="removeFromCart(product)">
              <span>Remover do carrinho</span>
            </div>
          </div>
        }
      </div>

      <div class="products-mobile">
        @for (product of productsInCart; track product._id) {
          <div class="product">
            <div class="product-image">
              <img src="{{ product?.file?.url }}" alt="{{ product?.file?.name }}">
            </div>

            <div class="product-info">
              <span>{{ product.name }}</span>
            </div>

            <div class="button-remove-from-cart" (click)="removeFromCart(product)">
              <span>Remover do carrinho</span>
            </div>
          </div>
        }
      </div>

      <div class="sale">
        <div class="details">
          <span>Total de produtos: {{ productsInCart.length }}</span>

          <div class="freight">
            <span>Frete: {{ 0 | currency: 'BRL':'R$ ' }}</span>
          </div>

          <span>Valor total: {{ this.finalValue | currency: 'BRL':'R$ '}}</span>
        </div>

        <div class="buttons-container">
          <div class="clear-cart" (click)="cartCleaning()">
            <span>Limpar carrinho</span>
          </div>

          <div class="buttons buy-products" (click)="completePurchase()">
            <span>Finalizar Compra</span>
          </div>
        </div>
      </div>
    </div>
  </section>
}


@if (productsInCart.length === 0) {
  <section id="empty-cart">
    <div class="empty-cart-message">
      <span>Seu carrinho est√° vazio</span>
    </div>
  </section>
}
